<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Perfil</ion-title>
    <ion-buttons slot="end">
      <ion-button *ngIf="!editMode" (click)="toggleEditMode()">
        <ion-icon name="create-outline"></ion-icon>
      </ion-button>
      <ion-button *ngIf="editMode" (click)="saveProfile()" color="success">
        <ion-icon name="save-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="profile-header ion-text-center">
    <ion-avatar>
      <img [src]="userProfile.avatarUrl || 'assets/default-avatar.png'" alt="Avatar de usuario">
    </ion-avatar>
    <h2>{{ userProfile.name }}</h2>
    <p>{{ userProfile.email }}</p>
  </div>

  <ion-list lines="full">
    <ion-item>
      <ion-label position="stacked">Nombre</ion-label>
      <ion-input [(ngModel)]="userProfile.name" [readonly]="!editMode"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Correo Electrónico</ion-label>
      <ion-input [(ngModel)]="userProfile.email" type="email" [readonly]="!editMode"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Teléfono</ion-label>
      <ion-input [(ngModel)]="userProfile.phone" type="tel" [readonly]="!editMode"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Bio</ion-label>
      <ion-textarea [(ngModel)]="userProfile.bio" rows="3" [readonly]="!editMode"></ion-textarea>
    </ion-item>
  </ion-list>

  <ion-button expand="block" class="ion-margin-top" *ngIf="editMode" (click)="saveProfile()">Guardar Cambios</ion-button>
</ion-content>